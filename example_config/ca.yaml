# ReactorCA: Certificate Authority Configuration
# This file defines the properties of your root Certificate Authority.

ca:
  # --- Subject Details ---
  # These values are used to build the distinguished name (DN) of the CA certificate.
  subject:
    common_name: "Reactor Homelab CA"
    organization: "Reactor Industries"
    organization_unit: "IT Department"
    country: "DE"                 # 2-letter country code
    state: "Berlin"               # State or province
    locality: "Berlin"            # City or locality
    email: "admin@reactor.dev"  # Administrative contact

  # --- Validity Period ---
  # How long the CA certificate will be valid for.
  # Specify exactly one of 'years' or 'days'.
  validity:
    years: 10
    # days: 3650

  # --- Cryptographic Settings ---
  # The algorithm used for the CA's private key.
  # Supported: RSA2048, RSA3072, RSA4096, ECP256, ECP384, ECP521, ED25519
  key_algorithm: "ECP384"

  # The hash algorithm used for the certificate signature.
  # Supported: SHA256, SHA384, SHA512
  hash_algorithm: "SHA384"

  # --- Password Management ---
  # Defines how the master password for encrypting private keys is handled.
  password:
    # Minimum required password length during interactive prompts.
    min_length: 12

    # Optional: Path to a file containing the master password.
    # If set, the CLI will not prompt for a password.
    # file: "/run/secrets/reactor_ca_password"

    # Optional: Name of the environment variable containing the master password.
    # This is checked if 'file' is not set or does not exist.
    env_var: "REACTOR_CA_PASSWORD"

# --- Encryption Configuration ---
# Defines how private keys are encrypted at rest using age.
encryption:
  # Provider: password (default) | ssh | yubikey
  provider: "password"
  
  # Password-based encryption settings (using age scrypt)
  password:
    min_length: 12
    env_var: "REACTOR_CA_PASSWORD"