# ReactorCA: Certificate Authority Configuration
# This file defines the properties of your root Certificate Authority.

ca:
  # --- Subject Details ---
  # These values are used to build the distinguished name (DN) of the CA certificate.
  subject:
    common_name: "Reactor Homelab CA"
    organization: "Reactor Industries"
    organization_unit: "IT Department"
    country: "DE" # 2-letter country code
    state: "Berlin" # State or province
    locality: "Berlin" # City or locality
    email: "admin@reactor.dev" # Administrative contact

  # --- Validity Period ---
  # How long the CA certificate will be valid for.
  # Specify any combination of 'years', 'months' and 'days'.
  validity:
    years: 10
    # days: 3650

  # --- Cryptographic Settings ---
  # The algorithm used for the CA's private key.
  # Supported: RSA2048, RSA3072, RSA4096, ECP256, ECP384, ECP521, ED25519
  key_algorithm: "ECP384"

  # The hash algorithm used for the certificate signature.
  # Supported: SHA256, SHA384, SHA512
  hash_algorithm: "SHA384"


# --- Encryption Configuration ---
# Defines how private keys are encrypted at rest using age.
encryption:
  # Provider: password (default) | ssh | plugin
  provider: "password"

  # Password-based encryption settings (using age scrypt)
  password:
    min_length: 12
    env_var: "REACTOR_CA_PASSWORD"
    # file: "/run/secrets/reactor_ca_password"

  # SSH key-based encryption settings (using age-ssh)
  ssh:
    identity_file: "~/.ssh/id_ed25519"
    recipients:
      - "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAILmlSRRC4SIrIvVCIvH+H9GvhDxGbus907IJByMtgJIm user@host"

  # Age plugin-based encryption (secure-enclave, yubikey, tpm, etc.)
  plugin:
    # Path to age identity file generated by the plugin
    identity_file: "~/.age/plugin-identity.txt"
    # Plugin recipient strings (age1 prefixed)
    recipients:
      - "age1se1qgg72x2qfk9wg3wh0qg9u0v7l5dkq4jx69fv80p6wdus3ftg6flwg5dz2dp"


# --- Display Configuration ---
# Controls how certificate status is displayed in host listings and info commands.
display:
  # Warning thresholds for certificate expiry status
  warnings:
    # Days remaining to show red critical warning (âœ—)
    critical: 7
    # Days remaining to show yellow warning (!)
    warning: 30
